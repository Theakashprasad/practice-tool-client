import{u as A,ak as I,r as n,s as S,ao as b,b as t,j as s,d as j,i as L,ab as M,k as $,B as V,S as f}from"./index-69f66825.js";import{I as B}from"./IconEdit-4d09e3f4.js";const Y=()=>{const N=A(),l=I();n.useEffect(()=>{N(S("Tools Management")),m()},[]);const[i,c]=n.useState("list"),[r,x]=n.useState(""),[v,P]=n.useState(!1),[w,y]=n.useState([]),[C,d]=n.useState(!0),[o,h]=n.useState(null),m=async()=>{try{d(!0);const e=await b.get("http://localhost:3000/api/tools");y(e.data),h(null)}catch(e){h("Failed to fetch tools"),console.error("Error fetching tools:",e)}finally{d(!1)}},T=async e=>{try{(await f.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",padding:"2em"})).value&&(await b.delete(`http://localhost:3000/api/tools/${e.id}`),await m(),u("Tool has been deleted successfully."))}catch(a){u("Failed to delete tool","error"),console.error("Error deleting tool:",a)}},u=(e="",a="success")=>{f.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:a,title:e,padding:"10px 20px"})},E=()=>{l("/apps/tools-management/add")},p=e=>{l(`/apps/tools-management/${e}`)},k=e=>{l(`/apps/tools-management/${e}`)},g=w.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.category.toLowerCase().includes(r.toLowerCase()));return C?t("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):o?t("div",{className:"flex items-center justify-center h-screen text-red-500",children:o}):s("div",{children:[s("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[t("h2",{className:"text-xl",children:"Tools Management"}),s("div",{className:"flex sm:flex-row flex-col sm:items-center sm:gap-3 gap-4 w-full sm:w-auto",children:[s("div",{className:"flex gap-3",children:[t("div",{children:s("button",{type:"button",className:"btn btn-primary",onClick:E,children:[t(j,{className:"ltr:mr-2 rtl:ml-2"}),"Add Tool"]})}),t("div",{children:t("button",{type:"button",className:`btn btn-outline-primary p-2 ${i==="list"?"bg-primary text-white":""}`,onClick:()=>c("list"),children:t(L,{})})}),t("div",{children:t("button",{type:"button",className:`btn btn-outline-primary p-2 ${i==="grid"?"bg-primary text-white":""}`,onClick:()=>c("grid"),children:t(M,{})})})]}),s("div",{className:"relative",children:[t("input",{type:"text",placeholder:"Search Tools...",className:"form-input py-2 ltr:pr-11 rtl:pl-11 peer",value:r,onChange:e=>x(e.target.value)}),t("button",{type:"button",className:"absolute ltr:right-[11px] rtl:left-[11px] top-1/2 -translate-y-1/2 peer-focus:text-primary",children:t($,{className:"mx-auto"})})]})]})]}),i==="list"&&t("div",{className:"mt-5 panel p-0 border-0 overflow-hidden",children:t("div",{className:"table-responsive",children:s("table",{className:"table-striped table-hover",children:[t("thead",{children:s("tr",{children:[t("th",{children:"Name"}),t("th",{children:"Category"}),t("th",{children:"Execution URL"}),t("th",{children:"Assigned To"}),t("th",{children:"Status"})]})}),t("tbody",{children:g.map(e=>s("tr",{children:[t("td",{children:t("button",{type:"button",className:"text-primary hover:underline",onClick:()=>p(e.id),children:e.name})}),t("td",{children:e.category}),t("td",{children:e.executionUrl}),s("td",{children:[e.practices.length>0&&s("div",{children:["Practices: ",e.practices.map(a=>a.name).join(", ")]}),e.clients.length>0&&s("div",{children:["Clients: ",e.clients.map(a=>a.name).join(", ")]})]}),t("td",{children:t("span",{className:`badge ${e.status==="ACTIVE"?"badge-outline-success":e.status==="MAINTENANCE"?"badge-outline-warning":"badge-outline-danger"}`,children:e.status})})]},e.id))})]})})}),i==="grid"&&t("div",{className:"grid 2xl:grid-cols-4 xl:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-6 mt-5 w-full",children:g.map(e=>t("div",{className:"bg-white dark:bg-[#1c232f] rounded-md overflow-hidden text-center shadow relative",children:s("div",{className:"p-6",children:[t("div",{className:"text-xl",children:e.name}),t("div",{className:"text-white-dark",children:e.category}),t("div",{className:"mt-4 text-sm",children:e.executionUrl}),t("div",{className:"mt-4",children:t("span",{className:`badge ${e.status==="ACTIVE"?"badge-outline-success":e.status==="MAINTENANCE"?"badge-outline-warning":"badge-outline-danger"}`,children:e.status})}),s("div",{className:"mt-4 text-sm",children:[e.practices.length>0&&s("div",{children:["Practices: ",e.practices.map(a=>a.name).join(", ")]}),e.clients.length>0&&s("div",{children:["Clients: ",e.clients.map(a=>a.name).join(", ")]})]}),s("div",{className:"mt-6 flex gap-4",children:[t("button",{type:"button",className:"btn btn-outline-primary w-1/2",onClick:()=>p(e.id),children:"View"}),s("button",{type:"button",className:"btn btn-outline-primary w-1/2",onClick:()=>k(e.id),children:[t(B,{className:"w-4 h-4 mr-2"}),"Edit"]}),v&&s("button",{type:"button",className:"btn btn-outline-danger w-1/2",onClick:()=>T(e),children:[t(V,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})},e.id))})]})};export{Y as default};
